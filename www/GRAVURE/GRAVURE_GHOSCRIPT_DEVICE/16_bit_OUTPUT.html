<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>16 bit OUTPUT</title>
		<meta name='Generator' content='Zim 0.56'>
		
		<link rel="stylesheet" href='../../_resources/style.css' type="text/css"
        media="screen" />
		
		<style type='text/css'>
			span.insen { color: grey                }
			.menu{
                clear: both;
                text-align: left;
                overflow:hidden;
                height:100%;
			}
			
			.menu a{
			    text-decoration:none;
			    color: #000;
			}
			
			.menu ul {
	            margin: 0 0 0 0; 
	            padding: 0 0 0 0; 
	            list-style: none; 
            }
            
            .menu ul ul{
	            margin: 0 0 0 0; 
	            padding: 0 0 0 1em; 
	            list-style: none; 
            }

            .menu ul li { 
	            margin: 0 0 0 0; 
	            padding: 0 0 0 0;
	            border: 0 0 0 0; 
            }
		
			.notebook{font-variant: small-caps;
					color:#4e9a06;
					padding: 0px 20px;}
		</style>
		
	</head>
	<body>
	    <div class="header">
	    <div class="status">
	        <th1>-</th1>
	    </div>
	    </div>
	    
	    <div class="header container">
            <div class="logo">
                <img src='../../_resources/logo.png' alt="logo" />
            </div>
            <div class="title"><small>Documentation : 16 bit OUTPUT</small></div>
            </br>
        </div>
            
        <div class="mainmenu">
        <th1>
            <a href='../../../../index.html'>Home</a>
            <a href='../../../../doc/trunk/www/GRAVURE.html'>Documentation</a>
            <a href='../../../../timeline'>Timeline</a>
            <a href='../../../../dir?ci=tip'>Code</a>
            <a href='../../../../brlist'>Branches</a>
            <a href='../../../../taglist'>Tags</a>
            <a href='../../../../reportlist'>Tickets</a>
            <a href='../../../../wiki'>Wiki</a>
        </th1></div>     
            
        <div class="container">    
			<div class="heading span-6 last">
				
			</div>
 
			<div class="menu span-1 border prepend-top">
				<ul>
<li><a href="../../FOSSIL_REPOSITORY.html" title="FOSSIL REPOSITORY">FOSSIL REPOSITORY</a></li>
<li><a href="../../GRAPHIC_LIBRARY.html" title="GRAPHIC LIBRARY">GRAPHIC LIBRARY</a></li>
<li><a href="../../GRAVURE.html" title="GRAVURE">GRAVURE</a></li>
<ul>
<li><a href="../COLOR_MANAGMENT.html" title="COLOR MANAGMENT">COLOR MANAGMENT</a></li>
<li><a href="../GRAVURE_GHOSCRIPT_DEVICE.html" title="GRAVURE GHOSCRIPT DEVICE">GRAVURE GHOSCRIPT DEVICE</a></li>
<ul>
<li><strong>16 bit OUTPUT</strong></li>
<li><a href="./BUILD_GS.html" title="BUILD GS">BUILD GS</a></li>
<li><a href="./CUPS.html" title="CUPS">CUPS</a></li>
<li><a href="./DEVICEN_CHANGE_9.02_to_9.06.html" title="DEVICEN CHANGE 9.02 to 9.06">DEVICEN CHANGE 9.02 to 9.06</a></li>
<li><a href="./HALFTONING.html" title="HALFTONING">HALFTONING</a></li>
<li><a href="./NOTES.html" title="NOTES">NOTES</a></li>
<li><a href="./TAGGING.html" title="TAGGING">TAGGING</a></li>
</ul>
<li><a href="../IMPOSITION.html" title="IMPOSITION">IMPOSITION</a></li>
<li><a href="../POSTSCRIPT.html" title="POSTSCRIPT">POSTSCRIPT</a></li>
<li><a href="../PYTHON.html" title="PYTHON">PYTHON</a></li>
<li><a href="../scenario_CMM.html" title="scenario CMM">scenario CMM</a></li>
<li><a href="../VUE_GENERALE.html" title="VUE GENERALE">VUE GENERALE</a></li>
</ul>
<li><a href="../../TRC.html" title="TRC">TRC</a></li>
</ul>

			</div>
			
			
			<div class="content span-4 border last">
			<!-- Wiki content -->
				<p>
Created mercredi 11 septembre 2013<br>
</p>

<h3>grayscale levels problem in 16-bit rasters</h3>
<p>
<a href="http://comments.gmane.org/gmane.comp.printing.ghostscript.devel/2584" title="http://comments.gmane.org/gmane.comp.printing.ghostscript.devel/2584">http://comments.gmane.org/gmane.comp.printing.ghostscript.devel/2584</a><br>
</p>

<p>
Here's how I'm setting up the gx_device:<br>
</p>

<p>
    pdev-&gt;color_info.depth = 16;<br>
    pdev-&gt;color_info.max_gray = 65535;<br>
    pdev-&gt;color_info.max_color = 65535;<br>
    pdev-&gt;color_info.dither_grays = 65536;<br>
    pdev-&gt;color_info.dither_colors = 65536;<br>
</p>

<p>
Can someone please explain what I am doing wrong?<br>
____________________________________________________________________<br>
Close, but the 'depth' is the total number of bits, so it should be<br>
</p>

<p>
64 for 4 16 bit channels.<br>
</p>

<p>
Also you need to set num_components (4 for CMYK) and polarity (a<br>
gx_color_polarity_t enum, GX_CM_POLARITY_SUBTRACTIVE for CMYK)<br>
</p>

<p>
Your initialization looks plausible. Note that for gradients and so on<br>
you need to set a smaller smoothness parameter than the default to get<br>
meaningful 16 bit output. Compare with the png48 device.I am experimenting with Ghostscript trying to create 16-bit output for grayscale, RGB and CMYK. The number of discrete gray levels appears to <br>
be wrong.<br>
____________________________________________________________________<br>
 I looked through the code for png48 and didn't see anything resembling a smoothness parameter. Why is grayscale only affected? RGB look ok<br>
____________________________________________________________________<br>
&gt; For 16 bit, I'd recommend a smaller [smoothness] value such as 0.0005<br>
</p>

<p>
It's a bug that the png48 device doesn't set this. Ray, do you have<br>
any suggestions how to override the default? Can the open_device<br>
method just call gs_setsmoothness()?<br>
_______________________________________________________________________________<br>
</p>

<h3>Making a PDF grayscale with ghostscript</h3>
<p>
<a href="http://handyfloss.net/2008.09/making-a-pdf-grayscale-with-ghostscript/" title="http://handyfloss.net/2008.09/making-a-pdf-grayscale-with-ghostscript/">http://handyfloss.net/2008.09/making-a-pdf-grayscale-with-ghostscript/</a><br>
</p>

<p>
    <code>% gs -sOutputFile=grayscale.pdf -sDEVICE=pdfwrite \</code><br>
<code>-sColorConversionStrategy=Gray -dProcessColorModel=/DeviceGray \</code><br>
<code>-dCompatibilityLevel=1.4 -dNOPAUSE -dBATCH color.pdf</code> <br>
</p>



			<!-- End wiki content -->
			</div>
			
			
			<!-- Backlinks -->
			<div class="span-8 last">
			    <hr>>
				Backlinks:
			<!-- End Backlinks -->
			</div>
        </div>
        <div class="footer">
            Fossil version 1.22
        </div>
</body></html>
	</body>
</html>
