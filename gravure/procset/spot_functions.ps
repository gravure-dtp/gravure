%!PS

% Copyright (C) 2012 Atelier Obscur.
% Authors:
% Gilles Coissac <dev@atelierobscur.org>
%
% This program is free software; you can redistribute it and/or modify
% it under the terms of version 2 of the GNU General Public License
% as published by the Free Software Foundation.
%
% This program is distributed in the hope that it will be useful, but
% WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
% or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
% for more details.
%
% You should have received a copy of the GNU General Public License with
% the Debian GNU/Linux distribution in file /usr/share/common-licenses/GPL;
% if not, write to the Free Software Foundation, Inc., 51 Franklin St,
% Fifth Floor, Boston, MA 02110-1301, USA.
%

/grv_spot_elliptic_80
{
  abs exch abs
  2 copy 3 mul
  exch 4 mul add
  3 sub dup 0 lt
  {
    pop dup mul
    exch .80 div
    dup mul add
    4 div
    1 exch sub
  }
  {
    dup 1 gt
    {
      pop 1 exch
      sub dup mul
      exch 1 exch sub
      .80 div dup mul add
      4 div 1 sub
    }
    {
      .5 exch sub
      exch pop exch pop
    } ifelse
  } ifelse
} bind def

/grv_spot_line
{
  pop
} bind def
